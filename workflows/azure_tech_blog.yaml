workflow_name: "Azure Tech Blog"
start_url: "https://techcommunity.microsoft.com/category/azure/blog/azurenetworkingblog"
output_directory: "output/azure_tech_blog"

# 内联起始页Schema定义，转换自start_page_schema.json
start_page_schema_inline:
  selectors: 
    - 
      type: a
      selector: 
        xpath: "/html/body/div/main/section[2]/div/div/div/div/article/section/div/div/div/article/section/div/div[2]/h4/a"
        css: a.MessageViewCard_lia-subject-link__OhaPD.styles_lia-g-clamp__dg3Sg.styles_lia-g-clamp-2__53ACH.styles_stretched-link__GWdm3
      fields: 
        url: 
          type: attribute
          selector: .
          attribute: href
        content: 
          type: text
          selector: .
      children: 



# 内联内容页Schema定义，转换自secondary_page_schema.json
secondary_page_schema_inline:
  selectors: 
    - 
      type: h2
      selector: 
        xpath: "/html/body/div/main/section/div[2]/div[2]/div/div/div/div/div/article/section/div[2]/h2"
        css: h2.styles_text-body__F7QRV.MessageIntroduction_lia-message-introduction___mMAN.styles_h4__wlzOi
      fields: 
        title: 
          type: text
          selector: .
        content: 
          type: text
          selector: .
      children: 
    - 
      type: div
      selector: 
        xpath: "/html/body/div/main/section/div[2]/div[2]/div/div/div/div/div/article/section/div[2]/div"
        css: div.styles_lia-g-message-body__LkV7_.styles_lia-g-message-body-blog__TUnqH.styles_clearfix__xFEoC.styles_text-body__F7QRV
      fields: 
        content: 
          type: text
          selector: .
      children: 
        links: 
          type: elements
          selector: a
        images: 
          type: elements
          selector: img
        paragraphs: 
          type: elements
          selector: p
    - 
      type: div
      selector: 
        xpath: "/html/body/div/main/section/div[2]/div[2]/div/div/div/div/div/article/section/div[2]/div[2]/div/div"
        css: div.styles_d-flex__7__Y_.styles_align-items-center__OKdH0
      fields: 
        content: 
          type: text
          selector: .
      children: 
        links: 
          type: elements
          selector: a
        images: 
          type: elements
          selector: img
        paragraphs: 
          type: elements
          selector: p

# URL过滤规则
url_patterns:
  include: 
    - "/blog/"
  exclude:
    - "/tag/"
    - "/category/"
  content:
    - "/blog/[a-z0-9-]+"

# 爬虫设置
crawler_settings:
  engine: "playwright"
  playwright:
    headless: true
    browser: "chromium"
    timeout: 30000
  request_delay: 2.0
  max_urls: 50
  max_retries: 3

# 输出设置
output_settings:
  format: "markdown"
  save_metadata: true
  create_index: true

# 添加提取模式，确保与crawler.py兼容
extraction_schema:
  urls:
    container: "div.msx-card__body"
    link_selector: "h3.msx-card__title > a"
    attribute: "href"
    patterns:
      include: 
        - "/blog/"
      exclude:
        - "/tag/"
        - "/category/"
  content:
    title: "h1.article-heading"
    author: "div.author-card span.author-card__meta-item"
    date: "time.header-meta__date"
    content: "div.article-body"
    remove:
      - ".social-bar"
      - ".feedback-form"
      - ".related-links" 